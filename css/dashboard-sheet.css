:root{
  --grid-columns: 12;
  --grid-gap: 12px;
  --row-size: 80px;           /* JS will update this to keep cells roughly square */
  --parchment-bg:#f6e4c1;
  --parchment-dark:#e8d7b3;
  --parchment-border:#d0bfa2;
  --btn:#7fb069; --btn-hover:#6ca05b;
}

*{box-sizing:border-box}

html,body{height:100%;margin:0}
body{font-family:sans-serif;background:var(--parchment-bg);color:#333}

#sheet-container{display:flex;flex-direction:column;min-height:100%}

/* Header */
.sheet-header{display:flex;align-items:center;justify-content:space-between;
  gap:12px;padding:.75rem 1rem;background:var(--parchment-dark);
  border-bottom:2px solid var(--parchment-border);
}
.sheet-header h1{margin:0;font-size:clamp(1rem,2vw+0.5rem,1.6rem)}

/* Buttons */
.btn{
  background:var(--btn);color:#fff;border:1px solid var(--btn-hover);
  border-radius:6px;padding:.45rem .75rem;cursor:pointer;text-decoration:none;
  white-space:nowrap;display:inline-flex;align-items:center;gap:.4rem;
}
.btn:hover{background:var(--btn-hover)}

/* Formatting toolbar */
.format-toolbar{
  background:var(--parchment-dark);border-bottom:2px solid var(--parchment-border);
  padding:8px;display:flex;gap:6px;flex-wrap:wrap
}
.format-toolbar button,.format-toolbar select{
  background:#fff;border:1px solid var(--parchment-border);
  border-radius:4px;padding:5px 10px;cursor:pointer
}
.format-toolbar button:hover{background:#eee}

/* Grid canvas (auto grows in rows) */
.grid-container{
  flex:1 1 auto;min-height:0;                /* allows internal scroll if needed */
  display:grid;
  grid-template-columns:repeat(var(--grid-columns), 1fr);
  grid-auto-rows:var(--row-size);            /* base row height (JS keeps it square-ish) */
  gap:var(--grid-gap);
  padding:var(--grid-gap);
}

/* Blocks */
.block {
    position: relative;
    display: flex;
    flex-direction: column;
    background-color: #ffffff;   /* pure white writing area */
    border: 1px solid var(--parchment-border);
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    overflow: hidden;
    cursor: move; 
}

/* Editable area */
.block-content {
    flex-grow: 1;
    padding: 1.6rem 10px 10px 10px; /* ⬅ top padding added for ❌ */
    overflow: auto;
    outline: none;
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    cursor: text; 
}

/* Subtle default cursor */
.block { cursor: grab; }
.block.dragging { cursor: grabbing; }

/* Strong visual when dragging */
.block.dragging {
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
  border-color: #4CAF50; /* purple outline while dragging */
  outline: 2px solid #4CAF50;
  outline-offset: -2px;
}



.block.dragging::before { left: -2px; top: -2px; border-top-left-radius: 3px; }
.block.dragging::after  { right: -2px; bottom: -2px; border-bottom-right-radius: 3px; }


/* ❌ button */
.delete-btn {
    position: absolute;
    top: 6px;
    right: 6px;
    background: none;
    border: none;
    font-size: 1.2rem;
    color: #888;
    cursor: pointer;
    z-index: 2;
}
.delete-btn:hover { color: #d9534f; }


/* Resize handle (unchanged) */
.resize-handle {
    position: absolute;
    bottom: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    cursor: nwse-resize;
    opacity: 0.4;
    border-bottom: 3px solid var(--parchment-border);
    border-right: 3px solid var(--parchment-border);
}
.block:hover .resize-handle { opacity: 1; }


/* Lock state */
.is-locked .block-header{cursor:default}
.is-locked .resize-handle,.is-locked .delete-btn,#sheet-container.is-locked #add-block-btn{display:none}
.is-locked [contenteditable]{pointer-events:none}

/* FAB */
#add-block-btn{
  position:fixed;right:20px;bottom:20px;width:52px;height:52px;border-radius:50%;
  font-size:26px;line-height:52px;text-align:center;padding:0;box-shadow:0 4px 10px rgba(0,0,0,.15)
}
