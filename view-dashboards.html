<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View All Dashboards</title>
    <link rel="icon" type="image/png" href="images/icon.png">
    <!-- Shared CSS for dashboard look and feel -->
    <link rel="stylesheet" href="css/view-dashboards.css">
</head>
<body>
    <!-- â€¦inside <body> â€¦ -->
    <div id="dashboard-viewer">
    <header id="dashboard-header">
        <div class="header-left">
        <a href="index.html" id="dash-back" class="btn">â† Back to Home</a>
        <button id="up-folder-btn" class="btn" style="display:none;">â†‘ Up a Folder</button>
        <h1>ğŸ“‹ Dashboards</h1>
        </div>
    </header>

    <nav id="dash-breadcrumbs" class="dash-breadcrumbs"></nav>

    <!-- Controls -->
    <div class="dashboard-controls">
        <button id="newDashboardBtn">â• New Dashboard</button>
        <button id="newCharBtn">â• New: 5e Character</button>
        <button id="newMonsterBtn" class="btn">â• New: 5e Monster/NPC</button>



        <button id="sortBtn">â‡… Sort A-Z</button>
        <button id="newFolderBtn">ğŸ“ New Folder</button>

        <!-- Imports -->
        <button id="importTextBtn" class="btn">ğŸ“‹ Import Text</button>
        <label class="btn file">
        ğŸ“„ Import PDF
        <input id="importPdfInput" type="file" accept="application/pdf" hidden>
        </label>
        <label class="btn">
        ğŸ“¥ Import JSON
        <input id="importInput" type="file" accept="application/json,json" multiple hidden>
        </label>
    </div>

    <main id="dashboard-list-container"></main>
    </div>

    <!-- Paste-text modal -->
    <dialog id="importTextDialog" class="modal">
    <form method="dialog" class="modal-card" style="min-width: min(900px, 92vw);">
        <h3 style="margin-top:0;">Paste 5e Statblock Text</h3>
        <textarea id="importTextArea" rows="16" placeholder="Paste a D&D 5e statblockâ€¦"
                style="width:100%;"></textarea>
        <div class="modal-actions" style="margin-top:.75rem; display:flex; gap:.5rem; justify-content:flex-end;">
        <button value="cancel" class="btn btn-secondary">Cancel</button>
        <button id="importTextConfirm" value="confirm" class="btn">Import</button>
        </div>
    </form>
    </dialog>

    <!-- PDF.js (needed for PDF import) -->
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script>
    if (window['pdfjsLib']) {
        pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js";
    }
    </script>

    <script src="./scripts/templates.js"></script>

    <!-- Importer module is dynamically imported by view-dashboards.js -->
    <script type="module" src="scripts/view-dashboards.js" defer></script>

</body>
</html>